/* =========================
   RESPONSIVE STYLES
   Deadline indicators, goal editing, mobile/tablet media queries
========================= */

/* Deadline Indicators */
.deadline-normal {
    /* Default deadline styling - uses inherited styles */
    opacity: 1;
}

.deadline-warning {
    background: var(--cat-orange-bg) !important;
    border-color: var(--cat-orange-border) !important;
    color: var(--cat-orange-text) !important;
}

.deadline-overdue {
    background: var(--cat-red-bg) !important;
    border-color: var(--cat-red-border) !important;
    color: var(--cat-red-text) !important;
    animation: pulse-overdue 2s infinite;
}

@keyframes pulse-overdue {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

/* Deadline date pill styling */
.date-pill.deadline {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.date-pill.deadline.deadline-warning {
    background: var(--cat-orange-bg);
    border-color: var(--cat-orange-border);
    color: var(--cat-orange-text);
}

.date-pill.deadline.deadline-overdue {
    background: var(--cat-red-bg);
    border-color: var(--cat-red-border);
    color: var(--cat-red-text);
}

/* Meta item deadline styling */
.meta-item.deadline-warning {
    color: var(--cat-orange-text);
}

.meta-item.deadline-warning svg {
    stroke: var(--cat-orange-border);
}

.meta-item.deadline-overdue {
    color: var(--cat-red-text);
}

.meta-item.deadline-overdue svg {
    stroke: var(--cat-red-border);
}

/* Goal deadline input (compact) */
.goal-deadline-input {
    width: 130px;
    padding: 0.5rem;
    font-size: 0.8rem;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    font-family: var(--font-body);
    background: white;
    color: var(--color-text-muted);
    transition: border-color 0.2s;
}

.goal-deadline-input:focus {
    outline: none;
    border-color: var(--color-secondary);
    color: var(--color-text-main);
}

/* Goal meta deadline styling */
.goal-meta .deadline-warning {
    color: var(--cat-orange-text);
    font-weight: 600;
}

.goal-meta .deadline-overdue {
    color: var(--cat-red-text);
    font-weight: 600;
}

/* Goal Actions & Editing */
.goal-actions {
    display: flex;
    gap: 0.25rem;
    opacity: 0;
    transition: opacity 0.2s;
}

.goal-item:hover .goal-actions {
    opacity: 1;
}

.goal-action-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0.25rem;
    color: var(--color-text-muted);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.goal-action-btn:hover {
    background: rgba(0, 0, 0, 0.05);
    color: var(--color-text-main);
}

.goal-action-btn.delete:hover {
    color: var(--cat-red-text);
    background: var(--cat-red-bg);
}

.goal-action-btn.edit:hover {
    color: var(--color-primary);
    background: rgba(59, 130, 246, 0.1);
}

/* Inline Editing */
.goal-item.editing {
    padding: 0.5rem;
    background: white;
    border: 1px solid var(--color-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.goal-edit-form {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: 0.5rem;
}

.edit-inputs {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
}

.edit-input-title {
    flex: 1;
    border: none;
    border-bottom: 1px solid var(--color-border);
    padding: 0.25rem 0;
    font-size: 0.9rem;
    font-family: var(--font-body);
    background: transparent;
}

.edit-input-title:focus {
    outline: none;
    border-bottom-color: var(--color-primary);
}

.edit-input-date {
    width: auto;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    padding: 0.25rem;
    font-size: 0.75rem;
}

.edit-actions {
    display: flex;
    gap: 0.25rem;
}

.check-save {
    color: var(--cat-green-text);
}

.check-save:hover {
    background: var(--cat-green-bg);
}

.check-cancel {
    color: var(--cat-red-text);
}

.check-cancel:hover {
    background: var(--cat-red-bg);
}

/* =========================
   MOBILE RESPONSIVE
========================= */

/* Mobile (up to 768px) */
@media (max-width: 768px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        gap: 1.5rem;
    }

    .status-column {
        grid-template-columns: 1fr;
        min-height: 300px;
        /* Ensures at least 1.5 cards visible (~190px per card) */
        max-height: 60vh;
        /* Prevents columns from taking too much vertical space */
        height: auto;
        /* Allows growth beyond minimum */
        overflow-y: auto;
        /* Enable scrolling within each column */
    }

    .modal {
        max-width: calc(100% - 2rem);
        margin: 1rem;
        padding: 1.5rem;
        border-radius: var(--radius-md);
    }

    .modal-lg {
        max-width: calc(100% - 2rem);
    }

    .header-content {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        padding: 0.75rem 1rem;
    }

    .header-left-group {
        flex: 1;
    }

    /* Hide "Project Management" text if requested, but user said "Align with text", 
       so we keep it but maybe adjust size or structure. 
       If user wanted to remove the "logo" (which might be the text), 
       we can hide .brand here. 
       Let's assume "Remove Logo" means remove the text brand if it takes up space, 
       BUT "Align menu with text" implies keeping text. 
       I will keep text but make sure it fits. */

    .header-actions {
        width: auto;
        justify-content: flex-end;
    }

    .tab-interface.header-tabs .tab-button {
        padding: 0.3rem 0.75rem;
        font-size: 0.7rem;
    }

    .btn-primary {
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
    }

    /* Card adjustments */
    .card-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .status-date {
        display: none !important;
    }

    /* Container even spacing */
    /* Container even spacing */
    .dashboard-grid {
        padding-left: 0 !important;
        padding-right: 0 !important;
        gap: 1rem;
    }

    .status-column {
        margin-left: 0;
        margin-right: 0;
        width: 100%;
    }

    /* Add goal form - stack on mobile */
    .add-goal-form {
        flex-wrap: wrap;
    }

    .add-goal-form input[type="text"] {
        flex: 1 1 100%;
    }

    .goal-deadline-input {
        flex: 1;
        width: auto;
    }

    /* Card/Timeline swapping at bottom on mobile */
    .tab-interface.header-tabs {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        top: auto !important;
        transform: none !important;
        z-index: 9999 !important;
        background: rgba(255, 255, 255, 0.95) !important;
        backdrop-filter: blur(12px);
        box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.05) !important;
        width: 100% !important;
        padding: 0.75rem !important;
        margin: 0 !important;
        border-top: 1px solid var(--color-border) !important;
        border-bottom: none !important;
        border-left: none !important;
        border-right: none !important;
        border-radius: 0 !important;
        justify-content: center !important;
        gap: 1rem !important;
        display: flex !important;
    }

    .tab-interface.header-tabs .tab-button {
        flex: 1;
        justify-content: center;
        padding: 0.5rem;
    }

    /* New Project button converts to + on mobile */
    .btn-primary .btn-text {
        display: none;
    }

    .btn-primary {
        width: 44px;
        height: 44px;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        /* Circle + button */
        font-size: 1.5rem;
    }

    .btn-plus {
        display: block;
    }

    /* Ensure main content doesn't get hidden under fixed tabs */
    /* Ensure main content doesn't get hidden under fixed tabs */
    main.container {
        padding-bottom: 5rem;
        padding-left: 0.5rem;
        padding-right: 0.5rem;
    }

    .header-actions {
        width: auto;
        justify-content: flex-end;
    }

    .brand {
        font-size: 1rem;
    }
}

/* Tablet (768px to 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
    .dashboard-grid {
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: repeat(2, 1fr);
    }

    .status-column {
        grid-template-columns: 1fr;
    }

    .container {
        padding: 1.5rem 2rem;
    }
}

/* Large screens (above 1024px) - default 4-column grid already defined */