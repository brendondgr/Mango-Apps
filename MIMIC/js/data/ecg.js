// ================================================================
// ECG MODULE: Electrocardiogram Tables
// Tables: record_list, machine_measurements, waveform_note_links
// ================================================================

const ecgNodes = [
    // === ECG RECORD LIST: TABLE NODE ===
    { id: 'ecg_record_list', label: 'ecg/record_list\n(ECG record mapping)', ...nodeStyles.file, description: 'Lists all available records in the ECG module. Links study_id to the waveform path.' },
    
    // === ECG RECORD LIST: VARIABLE NODES ===
    { id: 'ecg_study_id', label: 'study_id\n(ECG study identifier)', ...nodeStyles.variable, description: 'Unique identifier for the diagnostic ECG study.' },
    { id: 'ecg_file_name', label: 'file_name\n(WFDB file name)', ...nodeStyles.variable, description: 'Name of the .hea and .dat WFDB files for the study.' },
    { id: 'ecg_time', label: 'ecg_time\n(collection time)', ...nodeStyles.variable, description: 'The time that the diagnostic ECG was collected.' },
    { id: 'ecg_path', label: 'path\n(waveform path)', ...nodeStyles.variable, description: 'The path to the waveform file.' },

    // === ECG MACHINE MEASUREMENTS: TABLE NODE ===
    { id: 'ecg_machine_measurements', label: 'ecg/machine_measurements\n(ECG machine output)', ...nodeStyles.file, description: 'Provides machine-generated summary measurements (RR, QRS, etc.) and reports.' },

    // === ECG MACHINE MEASUREMENTS: VARIABLE NODES ===
    { id: 'ecg_cart_id', label: 'cart_id\n(ECG cart ID)', ...nodeStyles.variable, description: 'Identifier specific to the ECG cart used.' },
    { id: 'ecg_report', label: 'report_#\n(machine report)', ...nodeStyles.variable, description: 'Text-based cardiology report generated by the ECG machine.' },
    { id: 'ecg_rr_interval', label: 'rr_interval\n(RR interval, msec)', ...nodeStyles.variable, description: 'Time between successive R-waves (msec).' },
    { id: 'ecg_qrs_onset', label: 'qrs_onset\n(QRS onset, msec)', ...nodeStyles.variable, description: 'Time at the beginning of the QRS complex (msec).' },
    { id: 'ecg_qrs_end', label: 'qrs_end\n(QRS end, msec)', ...nodeStyles.variable, description: 'Time at the end of the QRS complex (msec).' },

    // === ECG WAVEFORM NOTE LINKS: TABLE NODE ===
    { id: 'ecg_waveform_note_links', label: 'ecg/waveform_note_links\n(note mapping)', ...nodeStyles.file, description: 'Links ECG waveforms to cardiologist notes in the MIMIC-IV-Note module.' },

    // === ECG WAVEFORM NOTE LINKS: VARIABLE NODES ===
    { id: 'ecg_note_id', label: 'note_id\n(cardiologist note ID)', ...nodeStyles.variable, description: 'Identifier for the cardiologist note in the Note module.' },
];

const ecgEdges = [
    // ECG Record List edges
    { from: 'ecg_record_list', to: 'ecg_study_id', ...edgeStyles.blue },
    { from: 'ecg_record_list', to: 'ecg_file_name', ...edgeStyles.blue },
    { from: 'ecg_record_list', to: 'ecg_time', ...edgeStyles.blue },
    { from: 'ecg_record_list', to: 'ecg_path', ...edgeStyles.blue },
    { from: 'ecg_record_list', to: 'subject_id', ...edgeStyles.purple },

    // ECG Machine Measurements edges
    { from: 'ecg_machine_measurements', to: 'ecg_study_id', ...edgeStyles.purple }, // Linking via study_id conceptually
    { from: 'ecg_machine_measurements', to: 'ecg_cart_id', ...edgeStyles.blue },
    { from: 'ecg_machine_measurements', to: 'ecg_report', ...edgeStyles.blue },
    { from: 'ecg_machine_measurements', to: 'ecg_rr_interval', ...edgeStyles.blue },
    { from: 'ecg_machine_measurements', to: 'ecg_qrs_onset', ...edgeStyles.blue },
    { from: 'ecg_machine_measurements', to: 'ecg_qrs_end', ...edgeStyles.blue },
    { from: 'ecg_machine_measurements', to: 'subject_id', ...edgeStyles.purple },

    // ECG Waveform Note Links edges
    { from: 'ecg_waveform_note_links', to: 'ecg_study_id', ...edgeStyles.purple },
    { from: 'ecg_waveform_note_links', to: 'ecg_note_id', ...edgeStyles.blue },
    { from: 'ecg_waveform_note_links', to: 'subject_id', ...edgeStyles.purple },
];
